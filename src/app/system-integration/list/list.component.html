
<div class="system-integration">
  <h1>System Integration List</h1>
  <div *ngIf="isLoading">
    <mat-progress-spinner 
      color="primary" 
      mode="indeterminate">
    </mat-progress-spinner>
  </div>  
  <table mat-table  *ngIf="systemIntegration && !isLoading" [dataSource]="systemIntegration" #mytable class="mat-elevation-z8">
    <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef>ID</th>
        <td mat-cell *matCellDef="let element">{{ element.id }}</td>
      </ng-container>
      <ng-container matColumnDef="accountName">
        <th mat-header-cell *matHeaderCellDef>Account</th>
        <td mat-cell *matCellDef="let element">{{ element.accountName }}</td>
      </ng-container>
      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef>Status</th>
        <td mat-cell *matCellDef="let element" >
          <div class="system-status">
            {{ element.status }}
            <mat-icon fontIcon="traffic" [ngStyle]="element.status === 'Active' ?{'color': 'green'} : {'color': 'gray'}">
            </mat-icon>
          </div>
          
        </td>
      </ng-container>
  
      
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef>Actions</th>
        <td mat-cell *matCellDef="let element">
          
          <a [routerLink]="['/data-warehouse/system-integration/edit', element.id]" matTooltip="Edit this item?" [matTooltipPosition]="'above'">
            <mat-icon
              aria-hidden="false"
              aria-label=" Edit icon"
              fontIcon="edit"
            >
            </mat-icon>
          </a>
          <a [routerLink]="" (click)="openDeleteModal(element.id)" matTooltip="Delete this item?" color="primary">
            <mat-icon
              aria-hidden="false"
              aria-label="Delete icon"
              fontIcon="delete"
            >
            </mat-icon>
          </a>
          <a [routerLink]="" (click)="testConnection(element.id)" matTooltip="Test Connection">
            <mat-icon
              aria-hidden="false"
              aria-label=" connection icon"
              fontIcon="cached"
            >
            </mat-icon>
          </a>
        
        </td>
      </ng-container>
  
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
    <div class="add-new">      
      <button mat-raised-button color="primary" [routerLink]="['/data-warehouse/system-integration/add']"> Create New System</button>
    </div>
</div>
